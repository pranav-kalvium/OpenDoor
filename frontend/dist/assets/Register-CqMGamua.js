import{a as q,r as i,j as e,b as m,f as U,t as X,o as J,ad as Y,s as _,c as K,e as Q,aa as Z,h as ee,C as se,m as re,B as y,H as oe,i as E,P as D,ab as z,k as ae,ac as te}from"./index-ss9waReM.js";import{F as b,V as F,a as B}from"./ViewOff-DNel0fg1.js";import{u as ne}from"./chunk-7D6N5TE5-CKH0vMoJ.js";import{V as N}from"./chunk-NTCQBYKE-BvdzEZQw.js";import{F as w,I as v}from"./chunk-6CVSDS6C-Dy3J0IGx.js";import{F as k}from"./chunk-GCOAS5YC-C6qMY60Z.js";import{I as R,b as L}from"./chunk-2ZHRCML3-9N-jao-J.js";var[Se,ie]=q({name:"CheckboxGroupContext",strict:!1});function le(s){const[l,t]=i.useState(s),[a,n]=i.useState(!1);return s!==l&&(n(!0),t(s)),a}function ce(s){return e.jsx(m.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...s,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function de(s){return e.jsx(m.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...s,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function he(s){const{isIndeterminate:l,isChecked:t,...a}=s,n=l?de:ce;return t||l?e.jsx(m.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(n,{...a})}):null}var ue={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},me={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},pe=_({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),xe=_({from:{opacity:0},to:{opacity:1}}),ge=_({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),G=U(function(l,t){const a=ie(),n={...a,...l},d=X("Checkbox",n),o=J(l),{spacing:C="0.5rem",className:S,children:p,iconColor:j,iconSize:x,icon:g=e.jsx(he,{}),isChecked:I,isDisabled:A=a?.isDisabled,onChange:c,inputProps:P,...r}=o;let h=I;a?.value&&o.value&&(h=a.value.includes(o.value));let u=c;a?.onChange&&o.value&&(u=Y(a.onChange,c));const{state:f,getInputProps:O,getCheckboxProps:V,getLabelProps:H,getRootProps:M}=ne({...r,isDisabled:A,isChecked:h,onChange:u}),T=le(f.isChecked),W=i.useMemo(()=>({animation:T?f.isIndeterminate?`${xe} 20ms linear, ${ge} 200ms linear`:`${pe} 200ms linear`:void 0,fontSize:x,color:j,...d.icon}),[j,x,T,f.isIndeterminate,d.icon]),$=i.cloneElement(g,{__css:W,isIndeterminate:f.isIndeterminate,isChecked:f.isChecked});return e.jsxs(m.label,{__css:{...me,...d.container},className:K("chakra-checkbox",S),...M(),children:[e.jsx("input",{className:"chakra-checkbox__input",...O(P,t)}),e.jsx(m.span,{__css:{...ue,...d.control},className:"chakra-checkbox__control",...V(),children:$}),p&&e.jsx(m.span,{className:"chakra-checkbox__label",...H(),__css:{marginStart:C,...d.label},children:p})]})});G.displayName="Checkbox";const fe=re(y),Ie=()=>{const[s,l]=i.useState({username:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[t,a]=i.useState(!1),[n,d]=i.useState(!1),[o,C]=i.useState({}),[S,p]=i.useState(!1),{register:j,isAuthenticated:x}=Q(),g=Z(),I=ee();i.useEffect(()=>{x&&g("/")},[x,g]);const A=()=>{const r={};return s.username?s.username.length<3&&(r.username="Username must be at least 3 characters"):r.username="Username is required",s.email?/\S+@\S+\.\S+/.test(s.email)||(r.email="Email is invalid"):r.email="Email is required",s.password?s.password.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",s.password!==s.confirmPassword&&(r.confirmPassword="Passwords do not match"),s.agreeToTerms||(r.agreeToTerms="You must agree to the terms and conditions"),C(r),Object.keys(r).length===0},c=(r,h)=>{l(u=>({...u,[r]:h})),o[r]&&C(u=>({...u,[r]:""}))},P=async r=>{if(r.preventDefault(),!!A()){p(!0);try{(await j({username:s.username,email:s.email,password:s.password})).success&&(I({title:"Account created!",description:"Welcome to OpenDoor!",status:"success",duration:3e3}),g("/"))}catch(h){console.error("Registration error:",h)}finally{p(!1)}}};return e.jsx(se,{maxW:"container.md",py:12,children:e.jsx(fe,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(y,{bg:"whiteAlpha.100",p:8,borderRadius:"lg",boxShadow:"xl",backdropFilter:"blur(10px)",children:e.jsxs(N,{spacing:6,align:"stretch",children:[e.jsxs(y,{textAlign:"center",children:[e.jsx(oe,{size:"xl",mb:2,bgGradient:"linear(to-r, blue.400, purple.500)",bgClip:"text",children:"Join OpenDoor"}),e.jsx(E,{color:"gray.400",children:"Create your account to discover amazing events"})]}),e.jsx("form",{onSubmit:P,children:e.jsxs(N,{spacing:4,children:[e.jsxs(w,{isInvalid:o.username,children:[e.jsx(k,{children:"Username"}),e.jsx(v,{value:s.username,onChange:r=>c("username",r.target.value),placeholder:"Choose a username",size:"lg",bg:"whiteAlpha.50",borderColor:"whiteAlpha.200",_hover:{borderColor:"whiteAlpha.300"},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px blue.500"}}),e.jsx(b,{children:o.username})]}),e.jsxs(w,{isInvalid:o.email,children:[e.jsx(k,{children:"Email Address"}),e.jsx(v,{type:"email",value:s.email,onChange:r=>c("email",r.target.value),placeholder:"Enter your email",size:"lg",bg:"whiteAlpha.50",borderColor:"whiteAlpha.200",_hover:{borderColor:"whiteAlpha.300"},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px blue.500"}}),e.jsx(b,{children:o.email})]}),e.jsxs(w,{isInvalid:o.password,children:[e.jsx(k,{children:"Password"}),e.jsxs(R,{children:[e.jsx(v,{type:t?"text":"password",value:s.password,onChange:r=>c("password",r.target.value),placeholder:"Create a password",size:"lg",bg:"whiteAlpha.50",borderColor:"whiteAlpha.200",_hover:{borderColor:"whiteAlpha.300"},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px blue.500"}}),e.jsx(L,{height:"100%",children:e.jsx(D,{variant:"ghost","aria-label":t?"Hide password":"Show password",icon:t?e.jsx(F,{}):e.jsx(B,{}),onClick:()=>a(!t)})})]}),e.jsx(b,{children:o.password})]}),e.jsxs(w,{isInvalid:o.confirmPassword,children:[e.jsx(k,{children:"Confirm Password"}),e.jsxs(R,{children:[e.jsx(v,{type:n?"text":"password",value:s.confirmPassword,onChange:r=>c("confirmPassword",r.target.value),placeholder:"Confirm your password",size:"lg",bg:"whiteAlpha.50",borderColor:"whiteAlpha.200",_hover:{borderColor:"whiteAlpha.300"},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px blue.500"}}),e.jsx(L,{height:"100%",children:e.jsx(D,{variant:"ghost","aria-label":n?"Hide password":"Show password",icon:n?e.jsx(F,{}):e.jsx(B,{}),onClick:()=>d(!n)})})]}),e.jsx(b,{children:o.confirmPassword})]}),e.jsxs(w,{isInvalid:o.agreeToTerms,children:[e.jsxs(G,{isChecked:s.agreeToTerms,onChange:r=>c("agreeToTerms",r.target.checked),colorScheme:"blue",children:["I agree to the"," ",e.jsx(z,{color:"blue.400",href:"/terms",isExternal:!0,children:"Terms and Conditions"})]}),e.jsx(b,{children:o.agreeToTerms})]}),e.jsx(ae,{type:"submit",colorScheme:"blue",size:"lg",width:"full",isLoading:S,loadingText:"Creating account...",mt:4,children:"Create Account"})]})}),e.jsx(y,{textAlign:"center",pt:4,children:e.jsxs(E,{color:"gray.400",children:["Already have an account?"," ",e.jsx(z,{as:te,to:"/login",color:"blue.400",_hover:{color:"blue.300"},children:"Sign in"})]})})]})})})})};export{Ie as default};
