import{D as O,r as g,f as k,E as xe,j as e,b as C,c as A,s as $,o as Q,t as re,a as H,G as fe,I as J,J as be,K as pe,L as ve,M as je,n as ge,e as ye,d as Se,h as ke,z as X,N as Ce,C as Te,B as S,F as N,O as Pe,P as Ne,Q as q,H as _,i as p,U as Ee,k as B,V as Y,W as Z,X as ee}from"./index-Dc_B6k5Q.js";import{H as z,E as se,M as we,c as Ae,g as _e,e as Be,d as Ie,f as ze,h as Fe}from"./EventCard-8GEmT4D9.js";import{S as G}from"./chunk-NEK3OOAM-CDyYQ-f1.js";import{V as te}from"./chunk-NTCQBYKE-DCA6dKNr.js";import{B as F,S as ae}from"./chunk-3RSXBRAN-DlN-AVl5.js";import{u as De,F as E,I as D}from"./chunk-6CVSDS6C-CK5P47n5.js";import{C as M,a as R}from"./chunk-YQO7BFFX-CJBy2T2l.js";import{F as w}from"./chunk-GCOAS5YC-i1KDoqiH.js";function Me(s){const{value:a,defaultValue:r,onChange:o,shouldUpdate:l=(x,v)=>x!==v}=s,c=O(o),n=O(l),[i,u]=g.useState(r),d=a!==void 0,h=d?a:i,f=O(x=>{const j=typeof x=="function"?x(h):x;n(h,j)&&(d||u(j),c(j))},[d,c,h,n]);return[h,f]}var Re={"top-start":{top:"0",insetStart:"0",transform:"translate(-25%, -25%)"},"top-end":{top:"0",insetEnd:"0",transform:"translate(25%, -25%)"},"bottom-start":{bottom:"0",insetStart:"0",transform:"translate(-25%, 25%)"},"bottom-end":{bottom:"0",insetEnd:"0",transform:"translate(25%, 25%)"}},ne=k(function(a,r){const{placement:o="bottom-end",className:l,...c}=a,n=xe(),u={position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",...Re[o],...n.badge};return e.jsx(C.div,{ref:r,...c,className:A("chakra-avatar__badge",l),__css:u})});ne.displayName="AvatarBadge";function Le(s,a,r){return(s-a)*100/(r-a)}$({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}});$({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});var Ve=$({"0%":{left:"-40%"},"100%":{left:"100%"}}),Ue=$({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function $e(s){const{value:a=0,min:r,max:o,valueText:l,getValueText:c,isIndeterminate:n,role:i="progressbar"}=s,u=Le(a,r,o);return{bind:{"data-indeterminate":n?"":void 0,"aria-valuemax":o,"aria-valuemin":r,"aria-valuenow":n?void 0:a,"aria-valuetext":(()=>{if(a!=null)return typeof c=="function"?c(a,u):l})(),role:i},percent:u,value:a}}var[He,Ke]=H({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),We=k((s,a)=>{const{min:r,max:o,value:l,isIndeterminate:c,role:n,...i}=s,u=$e({value:l,min:r,max:o,isIndeterminate:c,role:n}),h={height:"100%",...Ke().filledTrack};return e.jsx(C.div,{ref:a,style:{width:`${u.percent}%`,...i.style},...u.bind,...i,__css:h})}),L=k((s,a)=>{var r;const{value:o,min:l=0,max:c=100,hasStripe:n,isAnimated:i,children:u,borderRadius:d,isIndeterminate:h,"aria-label":f,"aria-labelledby":x,"aria-valuetext":v,title:j,role:T,...P}=Q(s),y=re("Progress",s),b=d??((r=y.track)==null?void 0:r.borderRadius),t={animation:`${Ue} 1s linear infinite`},me={...!h&&n&&i&&t,...h&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${Ve} 1s ease infinite normal none running`}},he={overflow:"hidden",position:"relative",...y.track};return e.jsx(C.div,{ref:a,borderRadius:b,__css:he,...P,children:e.jsxs(He,{value:y,children:[e.jsx(We,{"aria-label":f,"aria-labelledby":x,"aria-valuetext":v,min:l,max:c,value:o,isIndeterminate:h,css:me,borderRadius:b,title:j,role:T}),u]})})});L.displayName="Progress";var[Oe,Ge,Je,Qe]=fe();function Xe(s){var a;const{defaultIndex:r,onChange:o,index:l,isManual:c,isLazy:n,lazyBehavior:i="unmount",orientation:u="horizontal",direction:d="ltr",...h}=s,[f,x]=g.useState(r??0),[v,j]=Me({defaultValue:r??0,value:l,onChange:o});g.useEffect(()=>{l!=null&&x(l)},[l]);const T=Je(),P=g.useId();return{id:`tabs-${(a=s.id)!=null?a:P}`,selectedIndex:v,focusedIndex:f,setSelectedIndex:j,setFocusedIndex:x,isManual:c,isLazy:n,lazyBehavior:i,orientation:u,descendants:T,direction:d,htmlProps:h}}var[qe,K]=H({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function Ye(s){const{focusedIndex:a,orientation:r,direction:o}=K(),l=Ge(),c=g.useCallback(n=>{const i=()=>{var b;const t=l.nextEnabled(a);t&&((b=t.node)==null||b.focus())},u=()=>{var b;const t=l.prevEnabled(a);t&&((b=t.node)==null||b.focus())},d=()=>{var b;const t=l.firstEnabled();t&&((b=t.node)==null||b.focus())},h=()=>{var b;const t=l.lastEnabled();t&&((b=t.node)==null||b.focus())},f=r==="horizontal",x=r==="vertical",v=n.key,j=o==="ltr"?"ArrowLeft":"ArrowRight",T=o==="ltr"?"ArrowRight":"ArrowLeft",y={[j]:()=>f&&u(),[T]:()=>f&&i(),ArrowDown:()=>x&&i(),ArrowUp:()=>x&&u(),Home:d,End:h}[v];y&&(n.preventDefault(),y(n))},[l,a,r,o]);return{...s,role:"tablist","aria-orientation":r,onKeyDown:J(s.onKeyDown,c)}}function Ze(s){const{isDisabled:a=!1,isFocusable:r=!1,...o}=s,{setSelectedIndex:l,isManual:c,id:n,setFocusedIndex:i,selectedIndex:u}=K(),{index:d,register:h}=Qe({disabled:a&&!r}),f=d===u,x=()=>{l(d)},v=()=>{i(d),!c&&!(a&&r)&&l(d)};return{...be({...o,ref:pe(h,s.ref),isDisabled:a,isFocusable:r,onClick:J(s.onClick,x)}),id:le(n,d),role:"tab",tabIndex:f?0:-1,type:"button","aria-selected":f,"aria-controls":oe(n,d),onFocus:a?void 0:J(s.onFocus,v)}}var[es,ss]=H({});function ts(s){const a=K(),{id:r,selectedIndex:o}=a,c=ve(s.children).map((n,i)=>g.createElement(es,{key:i,value:{isSelected:i===o,id:oe(r,i),tabId:le(r,i),selectedIndex:o}},n));return{...s,children:c}}function as(s){const{children:a,...r}=s,{isLazy:o,lazyBehavior:l}=K(),{isSelected:c,id:n,tabId:i}=ss(),u=g.useRef(!1);c&&(u.current=!0);const d=je({wasSelected:u.current,isSelected:c,enabled:o,mode:l});return{tabIndex:0,...r,children:d?a:null,role:"tabpanel","aria-labelledby":i,hidden:!c,id:n}}function le(s,a){return`${s}--tab-${a}`}function oe(s,a){return`${s}--tabpanel-${a}`}var[rs,W]=H({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),ie=k(function(a,r){const o=re("Tabs",a),{children:l,className:c,...n}=Q(a),{htmlProps:i,descendants:u,...d}=Xe(n),h=g.useMemo(()=>d,[d]),{isFitted:f,...x}=i,v={position:"relative",...o.root};return e.jsx(Oe,{value:u,children:e.jsx(qe,{value:h,children:e.jsx(rs,{value:o,children:e.jsx(C.div,{className:A("chakra-tabs",c),ref:r,...x,__css:v,children:l})})})})});ie.displayName="Tabs";var ce=k(function(a,r){const o=Ye({...a,ref:r}),c={display:"flex",...W().tablist};return e.jsx(C.div,{...o,className:A("chakra-tabs__tablist",a.className),__css:c})});ce.displayName="TabList";var V=k(function(a,r){const o=as({...a,ref:r}),l=W();return e.jsx(C.div,{outline:"0",...o,className:A("chakra-tabs__tab-panel",a.className),__css:l.tabpanel})});V.displayName="TabPanel";var de=k(function(a,r){const o=ts(a),l=W();return e.jsx(C.div,{...o,width:"100%",ref:r,className:A("chakra-tabs__tab-panels",a.className),__css:l.tabpanels})});de.displayName="TabPanels";var U=k(function(a,r){const o=W(),l=Ze({...a,ref:r}),c={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...o.tab};return e.jsx(C.button,{...l,className:A("chakra-tabs__tab",a.className),__css:c})});U.displayName="Tab";function ns(s,a=[]){const r=Object.assign({},s);for(const o of a)o in r&&delete r[o];return r}var ls=["h","minH","height","minHeight"],ue=k((s,a)=>{const r=ge("Textarea",s),{className:o,rows:l,...c}=Q(s),n=De(c),i=l?ns(r,ls):r;return e.jsx(C.textarea,{ref:a,rows:l,...n,className:A("chakra-textarea",o),__css:i})});ue.displayName="Textarea";const fs=()=>{const{user:s,updateUser:a}=ye(),[r,o]=g.useState([]),[l,c]=g.useState([]),[n,i]=g.useState({firstName:"",lastName:"",bio:"",course:"",semester:"",interests:[],skills:[]}),{isOpen:u,onOpen:d,onClose:h}=Se(),f=ke(),x=g.useCallback(async()=>{try{const[t,m]=await Promise.all([X.getAll({saved:!0}),X.getAll({createdBy:s.id})]);t.success&&o(t.data.events),m.success&&c(m.data.events)}catch{f({title:"Error loading events",description:"Failed to load your events",status:"error",duration:3e3})}},[s,f]);g.useEffect(()=>{s&&(i({firstName:s.profile?.firstName||"",lastName:s.profile?.lastName||"",bio:s.profile?.bio||"",course:s.profile?.course||"",semester:s.profile?.semester||"",interests:s.profile?.interests||[],skills:s.profile?.skills||[]}),x())},[s,x]);const v=async()=>{try{a({profile:{...s.profile,...n}}),h(),f({title:"Profile updated successfully",status:"success",duration:3e3})}catch{f({title:"Error updating profile",status:"error",duration:3e3})}},j=()=>{x()},T=t=>{t&&!n.interests.includes(t)&&i(m=>({...m,interests:[...m.interests,t]}))},P=t=>{i(m=>({...m,interests:m.interests.filter(I=>I!==t)}))},y=t=>{t&&!n.skills.includes(t)&&i(m=>({...m,skills:[...m.skills,t]}))},b=t=>{i(m=>({...m,skills:m.skills.filter(I=>I!==t)}))};return s?e.jsxs(Te,{maxW:"container.xl",py:8,children:[e.jsx(S,{className:"glass-card",p:8,mb:8,children:e.jsxs(N,{direction:{base:"column",md:"row"},align:"center",gap:6,children:[e.jsxs(S,{position:"relative",children:[e.jsx(Pe,{size:"2xl",name:`${s.profile?.firstName} ${s.profile?.lastName}`||s.username,src:s.profile?.avatar,bg:"blue.500",border:"4px solid",borderColor:"whiteAlpha.300",children:e.jsx(ne,{boxSize:"1.25em",bg:"green.500"})}),e.jsx(Ne,{"aria-label":"Edit profile",icon:e.jsx(q,{}),size:"sm",position:"absolute",bottom:2,right:2,borderRadius:"full",onClick:d})]}),e.jsxs(S,{flex:"1",children:[e.jsx(_,{size:"xl",mb:2,children:s.profile?.firstName&&s.profile?.lastName?`${s.profile.firstName} ${s.profile.lastName}`:s.username}),e.jsxs(p,{color:"gray.400",mb:2,children:["@",s.username]}),s.profile?.course&&e.jsxs(N,{align:"center",mb:2,children:[e.jsx(Ee,{color:"#718096"}),e.jsxs(p,{ml:2,children:[s.profile.course," â€¢ Semester ",s.profile.semester]})]}),e.jsx(p,{mb:4,children:s.profile?.bio||"No bio yet. Share something about yourself!"}),s.profile?.interests&&s.profile.interests.length>0&&e.jsx(z,{mb:4,flexWrap:"wrap",children:s.profile.interests.map((t,m)=>e.jsx(F,{colorScheme:"blue",variant:"subtle",px:2,py:1,children:t},m))}),s.profile?.skills&&s.profile.skills.length>0&&e.jsx(z,{mb:4,flexWrap:"wrap",children:s.profile.skills.map((t,m)=>e.jsx(F,{colorScheme:"green",variant:"subtle",px:2,py:1,children:t},m))})]}),e.jsx(B,{leftIcon:e.jsx(q,{}),onClick:d,variant:"outline",children:"Edit Profile"})]})}),e.jsxs(G,{columns:{base:1,md:3},spacing:6,mb:8,children:[e.jsx(M,{className:"glass-card",children:e.jsxs(R,{textAlign:"center",children:[e.jsx(Y,{size:24,color:"#E53E3E",style:{margin:"0 auto 12px"}}),e.jsx(_,{size:"2xl",color:"red.400",children:r.length}),e.jsx(p,{children:"Saved Events"})]})}),e.jsx(M,{className:"glass-card",children:e.jsxs(R,{textAlign:"center",children:[e.jsx(Z,{size:24,color:"#3182CE",style:{margin:"0 auto 12px"}}),e.jsx(_,{size:"2xl",color:"blue.400",children:l.length}),e.jsx(p,{children:"Created Events"})]})}),e.jsx(M,{className:"glass-card",children:e.jsxs(R,{textAlign:"center",children:[e.jsx(ee,{size:24,color:"#D69E2E",style:{margin:"0 auto 12px"}}),e.jsx(_,{size:"2xl",color:"yellow.400",children:"47"}),e.jsx(p,{children:"Connections"})]})})]}),e.jsx(M,{className:"glass-card",mb:8,children:e.jsxs(R,{children:[e.jsx(_,{size:"md",mb:4,children:"Campus Engagement"}),e.jsxs(te,{spacing:4,align:"stretch",children:[e.jsxs(S,{children:[e.jsxs(N,{justify:"space-between",mb:2,children:[e.jsx(p,{children:"Event Participation"}),e.jsx(p,{children:"75%"})]}),e.jsx(L,{value:75,colorScheme:"blue",size:"sm",borderRadius:"full"})]}),e.jsxs(S,{children:[e.jsxs(N,{justify:"space-between",mb:2,children:[e.jsx(p,{children:"Network Growth"}),e.jsx(p,{children:"60%"})]}),e.jsx(L,{value:60,colorScheme:"green",size:"sm",borderRadius:"full"})]}),e.jsxs(S,{children:[e.jsxs(N,{justify:"space-between",mb:2,children:[e.jsx(p,{children:"Skill Development"}),e.jsx(p,{children:"85%"})]}),e.jsx(L,{value:85,colorScheme:"purple",size:"sm",borderRadius:"full"})]})]})]})}),e.jsxs(ie,{variant:"soft-rounded",colorScheme:"blue",children:[e.jsxs(ce,{mb:6,children:[e.jsxs(U,{children:["Saved Events (",r.length,")"]}),e.jsxs(U,{children:["Created Events (",l.length,")"]}),e.jsx(U,{children:"My Network"})]}),e.jsxs(de,{children:[e.jsx(V,{children:r.length>0?e.jsx(G,{columns:{base:1,md:2,lg:3},spacing:6,children:r.map(t=>e.jsx(se,{event:t,onEventUpdate:j},t._id))}):e.jsxs(S,{textAlign:"center",py:12,className:"glass-card",children:[e.jsx(Y,{size:48,color:"gray"}),e.jsx(p,{mt:4,color:"gray.400",children:"No saved events yet"}),e.jsx(B,{mt:4,colorScheme:"blue",children:"Browse Events"})]})}),e.jsx(V,{children:l.length>0?e.jsx(G,{columns:{base:1,md:2,lg:3},spacing:6,children:l.map(t=>e.jsx(se,{event:t,onEventUpdate:j},t._id))}):e.jsxs(S,{textAlign:"center",py:12,className:"glass-card",children:[e.jsx(Z,{size:48,color:"gray"}),e.jsx(p,{mt:4,color:"gray.400",children:"No events created yet"}),e.jsx(B,{mt:4,colorScheme:"blue",children:"Create Event"})]})}),e.jsx(V,{children:e.jsxs(S,{textAlign:"center",py:12,className:"glass-card",children:[e.jsx(ee,{size:48,color:"gray"}),e.jsx(p,{mt:4,color:"gray.400",children:"Network features coming soon"}),e.jsx(p,{fontSize:"sm",color:"gray.500",mt:2,children:"Connect with other Alliance University students and build your professional network"})]})})]})]}),e.jsxs(we,{isOpen:u,onClose:h,size:"xl",children:[e.jsx(Ae,{}),e.jsxs(_e,{className:"glass-card",bg:"rgba(26, 32, 44, 0.95)",children:[e.jsx(Be,{children:"Edit Profile"}),e.jsx(Ie,{}),e.jsx(ze,{children:e.jsxs(te,{spacing:4,align:"stretch",children:[e.jsxs(N,{gap:4,children:[e.jsxs(E,{children:[e.jsx(w,{children:"First Name"}),e.jsx(D,{value:n.firstName,onChange:t=>i({...n,firstName:t.target.value}),placeholder:"Enter your first name"})]}),e.jsxs(E,{children:[e.jsx(w,{children:"Last Name"}),e.jsx(D,{value:n.lastName,onChange:t=>i({...n,lastName:t.target.value}),placeholder:"Enter your last name"})]})]}),e.jsxs(N,{gap:4,children:[e.jsxs(E,{children:[e.jsx(w,{children:"Course"}),e.jsxs(ae,{value:n.course,onChange:t=>i({...n,course:t.target.value}),placeholder:"Select your course",children:[e.jsx("option",{value:"B.Tech",children:"B.Tech"}),e.jsx("option",{value:"MBA",children:"MBA"}),e.jsx("option",{value:"BBA",children:"BBA"}),e.jsx("option",{value:"B.Com",children:"B.Com"}),e.jsx("option",{value:"BA",children:"BA"}),e.jsx("option",{value:"B.Sc",children:"B.Sc"}),e.jsx("option",{value:"M.Tech",children:"M.Tech"}),e.jsx("option",{value:"PhD",children:"PhD"})]})]}),e.jsxs(E,{children:[e.jsx(w,{children:"Semester"}),e.jsx(ae,{value:n.semester,onChange:t=>i({...n,semester:t.target.value}),placeholder:"Select semester",children:[1,2,3,4,5,6,7,8].map(t=>e.jsxs("option",{value:t,children:["Semester ",t]},t))})]})]}),e.jsxs(E,{children:[e.jsx(w,{children:"Bio"}),e.jsx(ue,{value:n.bio,onChange:t=>i({...n,bio:t.target.value}),rows:4,placeholder:"Tell us about yourself..."})]}),e.jsxs(E,{children:[e.jsx(w,{children:"Interests (comma-separated)"}),e.jsx(D,{placeholder:"e.g., Programming, Music, Sports",onKeyPress:t=>{t.key==="Enter"&&t.target.value.trim()&&(T(t.target.value.trim()),t.target.value="")}}),e.jsx(z,{mt:2,flexWrap:"wrap",children:n.interests.map((t,m)=>e.jsxs(F,{colorScheme:"blue",px:2,py:1,borderRadius:"full",cursor:"pointer",onClick:()=>P(t),children:[t," Ã—"]},m))})]}),e.jsxs(E,{children:[e.jsx(w,{children:"Skills (comma-separated)"}),e.jsx(D,{placeholder:"e.g., JavaScript, Python, Design",onKeyPress:t=>{t.key==="Enter"&&t.target.value.trim()&&(y(t.target.value.trim()),t.target.value="")}}),e.jsx(z,{mt:2,flexWrap:"wrap",children:n.skills.map((t,m)=>e.jsxs(F,{colorScheme:"green",px:2,py:1,borderRadius:"full",cursor:"pointer",onClick:()=>b(t),children:[t," Ã—"]},m))})]})]})}),e.jsxs(Fe,{children:[e.jsx(B,{variant:"ghost",mr:3,onClick:h,children:"Cancel"}),e.jsx(B,{colorScheme:"blue",onClick:v,children:"Save Changes"})]})]})]})]}):e.jsx(Ce,{to:"/login",replace:!0})};export{fs as default};
